{% extends "global/Page.html" %}
{% load otree static %}

{% block title %}
    Preguntas
{% endblock %}

{% block scripts %}
    <script>
        var timeInit = Date.now();

        $(document).ready(function () {
            formulario = document.getElementById("form");
        });

        function enviar(){
            var area_1 = document.getElementById('area_1');
            var area_2 = document.getElementById('area_2');
            var area_3 = document.getElementById('area_3');
            var area_4 = document.getElementById('area_4');
            var area_5 = document.getElementById('area_5');
            var time_area_5 = document.getElementById('time_area_5');
            time_area_5.value = (Date.now() - timeInit)/1000;
            area_1.disabled = false;
            area_2.disabled = false;
            area_3.disabled = false;
            area_4.disabled = false;
            area_5.disabled = false;
            formulario.submit();
        }

        $('#td_area_1').click(function(event) {
            var area_1 = document.getElementById('area_1');
            var area_2 = document.getElementById('area_2');
            var area_3 = document.getElementById('area_3');
            var area_4 = document.getElementById('area_4');
            var area_5 = document.getElementById('area_5');
            var time_init_area = document.getElementById('time_init_area');
            if((area_1.value === "") && (area_1.disabled === true) && (area_2.disabled === true) && (area_3.disabled === true) && (area_4.disabled === true) && (area_5.disabled === true)){
                area_1.disabled = false;
                time_init_area.value = (Date.now() - timeInit)/1000;
                timeInit = Date.now();
            }
        });

        $('#td_area_2').click(function(event) {
            var area_1 = document.getElementById('area_1');
            var area_2 = document.getElementById('area_2');
            var area_3 = document.getElementById('area_3');
            var area_4 = document.getElementById('area_4');
            var area_5 = document.getElementById('area_5');
            var time_area_1 = document.getElementById('time_area_1');
            if((area_2.value === "") && (area_1.disabled === false) && (area_2.disabled === true) && (area_3.disabled === true) && (area_4.disabled === true) && (area_5.disabled === true) && (area_1.value != "")){
                area_2.disabled = false;
                area_1.disabled = true;
                time_area_1.value = (Date.now() - timeInit)/1000;
                timeInit = Date.now();
            }
        });

        $('#td_area_3').click(function(event) {
            var area_1 = document.getElementById('area_1');
            var area_2 = document.getElementById('area_2');
            var area_3 = document.getElementById('area_3');
            var area_4 = document.getElementById('area_4');
            var area_5 = document.getElementById('area_5');
            var time_area_2 = document.getElementById('time_area_2');
            if((area_3.value === "") && (area_1.disabled === true) && (area_2.disabled === false) && (area_3.disabled === true) && (area_4.disabled === true) && (area_5.disabled === true) && (area_2.value != "")){
                area_3.disabled = false;
                area_2.disabled = true;
                time_area_2.value = (Date.now() - timeInit)/1000;
                timeInit = Date.now();
            }
        });

        $('#td_area_4').click(function(event) {
            var area_1 = document.getElementById('area_1');
            var area_2 = document.getElementById('area_2');
            var area_3 = document.getElementById('area_3');
            var area_4 = document.getElementById('area_4');
            var area_5 = document.getElementById('area_5');
            var time_area_3 = document.getElementById('time_area_3');
            if((area_4.value === "") && (area_1.disabled === true) && (area_2.disabled === true) && (area_3.disabled === false) && (area_4.disabled === true) && (area_5.disabled === true) && (area_3.value != "")){
                area_4.disabled = false;
                area_3.disabled = true;
                time_area_3.value = (Date.now() - timeInit)/1000;
                timeInit = Date.now();
            }
        });

        $('#td_area_5').click(function(event) {
            var area_1 = document.getElementById('area_1');
            var area_2 = document.getElementById('area_2');
            var area_3 = document.getElementById('area_3');
            var area_4 = document.getElementById('area_4');
            var area_5 = document.getElementById('area_5');
            var time_area_4 = document.getElementById('time_area_4');
            if((area_5.value === "") && (area_1.disabled === true) && (area_2.disabled === true) && (area_3.disabled === true) && (area_4.disabled === false) && (area_5.disabled === true) && (area_4.value != "")){
                area_5.disabled = false;
                area_4.disabled = true;
                time_area_4.value = (Date.now() - timeInit)/1000;
                timeInit = Date.now();
                document.getElementById('siguiente').style.display = "block";
            }
        });
    </script> 

    <style>
    .btn_next {
        cursor: pointer;
        display: none;
        color: #ffffff;
        background-color: #007bff;
        border-color: #007bff;
        font-weight: 400;
        text-align: center;
        white-space: nowrap;
        vertical-align: middle;
        user-select: none;
        border: 1px solid transparent;
        padding: 0.375rem 0.75rem;
        font-size: 1rem;
        line-height: 1.5;
        border-radius: 0.25rem;
        transition: color 0.15s ease-in-out, background-color 0.15s ease-in-out, border-color 0.15s ease-in-out, box-shadow 0.15s ease-in-out;
        position: absolute;
        width: 8vw;
        left: 46vw;
    }

    .btn_next:hover {
        background-color: #0069d9;
        border-color: #0069d9;
    }

    .input_number {
        text-align: left;
        height: 33px;
        width: 400px;
        padding: 3px 5px;
    }
    </style>
{% endblock %}

{% block content %}

<p> Haga <i>clic</i> sobre el vínculo mostrado abajo para acceder a las "Preguntas". Una vez allí, responda las preguntas hasta llegar a los RESULTADOS. </p>

<p> Luego de llegar a los resultado por favor regrese y escriba los 5 núcleos de conocimiento con los que tiene mayor afinidad según los RESULTADOS. </p> 

<p> Haga <i>clic</i> encima de cada recuadro para poder activarlo y escribir su respuesta. Después de ingresada no puede modificarla así que piénsela bien. Debe llenarlos en orden.</p>

<input type="hidden" class="input_hidden" name="time_init_area" id="time_init_area" value="" required>

<table>
    <tr style="padding: 3px;">
        <td style="padding: 5px 7px; text-align: right;">
            <b>1.</b>
        </td>
        <td id="td_area_1" style="padding: 5px 7px;">
            <input type="text" class="input_number" name="area_1" id="area_1" value="" disabled required>
            <input type="hidden" class="input_hidden" name="time_area_1" id="time_area_1" value="" required>
        </td>
    </tr>
    <tr>
        <td style="padding: 5px 7px; text-align: right;">
            <b>2.</b>
        </td>
        <td id="td_area_2" style="padding: 5px 7px;">
            <input type="text" class="input_number" name="area_2" id="area_2" value="" disabled required>
            <input type="hidden" class="input_hidden" name="time_area_2" id="time_area_2" value="" required>
        </td>
    </tr>
    <tr>
        <td style="padding: 5px 7px; text-align: right;">
            <b>3.</b>
        </td>
        <td id="td_area_3" style="padding: 5px 7px;">
            <input type="text" class="input_number" name="area_3" id="area_3" value="" disabled required>
            <input type="hidden" class="input_hidden" name="time_area_3" id="time_area_3" value="" required>
        </td>
    </tr>
    <tr>
        <td style="padding: 5px 7px; text-align: right;">
            <b>4.</b>
        </td>
        <td id="td_area_4" style="padding: 5px 7px;">
            <input type="text" class="input_number" name="area_4" id="area_4" value="" disabled required>
            <input type="hidden" class="input_hidden" name="time_area_4" id="time_area_4" value="" required>
        </td>
    </tr>
    <tr>
        <td style="padding: 5px 7px; text-align: right;">
            <b>5.</b>
        </td>
        <td id="td_area_5" style="padding: 5px 7px;">
            <input type="text" class="input_number" name="area_5" id="area_5" value="" disabled required>
            <input type="hidden" class="input_hidden" name="time_area_5" id="time_area_5" value="" required>
        </td>
    </tr>
</table>

<p>
    <a role="button" href="https://proyectateherramienta.mineducacion.gov.co/MenVocOcup/Default.aspx?ReturnUrl=%2fMenVocOcup%2fSistema%2fRutaConiciomiento0-00.aspx"  target="_blank" class="btn btn-info mx-auto d-block w-25">Preguntas</a>
</p>

<input type="button" value="Siguiente" id="siguiente" class="btn_next" onclick="enviar()">

{% endblock %}


